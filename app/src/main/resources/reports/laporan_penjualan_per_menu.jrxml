<jasperReport name="LaporanPenjualanPerMenu" language="java" pageWidth="595" pageHeight="842" columnWidth="535" leftMargin="30" rightMargin="30" topMargin="20" bottomMargin="20" uuid="4b26ca56-ce61-46b7-a6c9-ef7955db9b56">
	<query language="sql"><![CDATA[SELECT CONCAT('MNU-', LPAD(m.id_masakan, 3, '0')) as kode, m.nama_masakan, SUM(do.qty) as total_terjual, SUM(do.subtotal) as total_pendapatan FROM menu_masakan m JOIN detail_order do ON m.id_masakan = do.id_masakan JOIN `order` o ON do.id_order = o.id_order JOIN transaksi t ON o.id_order = t.id_order GROUP BY m.id_masakan, m.nama_masakan ORDER BY total_terjual DESC]]></query>
	<field name="kode" class="java.lang.String"/>
	<field name="nama_masakan" class="java.lang.String"/>
	<field name="total_terjual" class="java.lang.Long"/>
	<field name="total_pendapatan" class="java.lang.Long"/>
	<variable name="totalQuantity" calculation="Sum" class="java.lang.Long">
		<expression><![CDATA[$F{total_terjual}]]></expression>
	</variable>
	<variable name="totalRevenue" calculation="Sum" class="java.lang.Long">
		<expression><![CDATA[$F{total_pendapatan}]]></expression>
	</variable>
	<title height="150">
		<element kind="rectangle" uuid="aeaca54c-1c3e-4bdb-9cbf-cca4ea25a34a" mode="Opaque" x="0" y="0" width="535" height="90" backcolor="#ECFDF5"/>
		<element kind="image" uuid="9915dd71-bde7-4522-92df-f3dc675cd390" x="10" y="15" width="60" height="60" scaleImage="RetainShape">
			<expression><![CDATA[this.getClass().getResource("/images/logo_icon.png")]]></expression>
		</element>
		<element kind="staticText" uuid="e742034b-f40b-4ddc-ac39-253d1cac62e8" x="50" y="10" width="445" height="35" forecolor="#10B981" fontSize="20.0" bold="true" hTextAlign="Center">
			<text><![CDATA[DAPOER SYAFIRA]]></text>
		</element>
		<element kind="staticText" uuid="6eb446b7-c81f-4eb3-aa55-5a5c0f70ed46" x="50" y="40" width="445" height="45" fontSize="10.0" hTextAlign="Center">
			<text><![CDATA[Kp. Sudimampir, Jl. Teratai Rt 03/03 No. 49,
Kel. Cimanggis, Kec. Bojonggede, Kab. Bogor
Telp. 0858-8841-2088 Email. lmsas84atsyah@gmail.com]]></text>
		</element>
		<element kind="staticText" uuid="0a38c7ef-0832-458c-9f17-62046b8fda75" x="50" y="110" width="445" height="25" fontSize="16.0" bold="true" hTextAlign="Center">
			<text><![CDATA[LAPORAN PENJUALAN PER MENU]]></text>
		</element>
		<element kind="line" uuid="1350c5db-7d8e-4ca7-a0e5-a58420df8601" x="0" y="145" width="535" height="1" forecolor="#10B981"/>
	</title>
	<columnHeader height="35">
		<element kind="rectangle" uuid="70ed56ea-5644-4f21-9c88-372d612da3a4" mode="Opaque" x="0" y="0" width="535" height="30" backcolor="#10B981"/>
		<element kind="staticText" uuid="b65f4fc6-07d9-403a-977c-5b0dab177021" x="5" y="8" width="70" height="20" forecolor="#FFFFFF" fontSize="11.0" bold="true">
			<text><![CDATA[Kode]]></text>
		</element>
		<element kind="staticText" uuid="828fd16f-ad8b-46ac-9d57-7a7578f7ae91" x="75" y="8" width="250" height="20" forecolor="#FFFFFF" fontSize="11.0" bold="true">
			<text><![CDATA[Nama Menu]]></text>
		</element>
		<element kind="staticText" uuid="a223665f-08da-41d0-a2a1-2133a6f9a7e6" x="325" y="8" width="100" height="20" forecolor="#FFFFFF" fontSize="11.0" bold="true" hTextAlign="Right">
			<text><![CDATA[Terjual]]></text>
		</element>
		<element kind="staticText" uuid="6f36c1f4-5c79-4307-9eb4-17b21ce1601e" x="425" y="8" width="105" height="20" forecolor="#FFFFFF" fontSize="11.0" bold="true" hTextAlign="Right">
			<text><![CDATA[Total Pendapatan]]></text>
		</element>
	</columnHeader>
	<detail>
		<band height="25">
			<element kind="line" uuid="cf4fb6aa-99b2-433e-924a-f170e18de97e" x="0" y="24" width="535" height="1" forecolor="#D1FAE5"/>
			<element kind="textField" uuid="48a178aa-c282-4ae4-9513-af4f73ed56b8" x="5" y="2" width="70" height="20" fontSize="10.0">
				<expression><![CDATA[$F{kode}]]></expression>
			</element>
			<element kind="textField" uuid="2b756434-c269-46f3-b6bf-b318560f41fd" x="75" y="2" width="250" height="20" fontSize="10.0">
				<expression><![CDATA[$F{nama_masakan}]]></expression>
			</element>
			<element kind="textField" uuid="dd7fa539-7649-4109-b407-08af9ada2f21" x="325" y="2" width="100" height="20" fontSize="10.0" pattern="#,##0" hTextAlign="Right">
				<expression><![CDATA[$F{total_terjual}]]></expression>
			</element>
			<element kind="textField" uuid="11a08c60-9505-4a35-a7ad-832b78d9b9e3" x="425" y="2" width="105" height="20" fontSize="10.0" pattern="Rp #,##0" hTextAlign="Right">
				<expression><![CDATA[$F{total_pendapatan}]]></expression>
			</element>
		</band>
	</detail>
	<pageFooter height="140">
		<element kind="line" uuid="9871d17f-650e-45bc-b67b-ee0bcd43dae6" x="0" y="10" width="535" height="1" forecolor="#D1FAE5"/>
		<element kind="staticText" uuid="b0b62e58-e4e9-47e2-ba36-9a99b08a8b67" x="50" y="50" width="150" height="15" fontSize="10.0">
			<text><![CDATA[Mengetahui,]]></text>
		</element>
		<element kind="line" uuid="8c06bae8-6baf-4056-822c-871e1c893c68" x="50" y="105" width="150" height="1"/>
		<element kind="staticText" uuid="55e546fa-3d2c-4975-90a1-471ca65c8133" x="50" y="110" width="150" height="15" fontSize="9.0" hTextAlign="Center">
			<text><![CDATA[(________________)]]></text>
		</element>
		<element kind="staticText" uuid="999251f4-5a54-4adb-8370-46c8a3d336d7" x="350" y="20" width="150" height="15" fontSize="9.0" hTextAlign="Center">
			<text><![CDATA[Jakarta, Kamis, 22 Januari 2026]]></text>
		</element>
		<element kind="staticText" uuid="207c4d35-8f96-4af6-9534-513418109dd3" x="350" y="50" width="150" height="15" fontSize="10.0">
			<text><![CDATA[Dibuat Oleh,]]></text>
		</element>
		<element kind="line" uuid="1cf72961-fb97-40c6-9be3-4a1461970c16" x="350" y="105" width="150" height="1"/>
		<element kind="staticText" uuid="83310f00-b7ce-4684-949f-8533e5d24570" x="350" y="110" width="150" height="15" fontSize="9.0" hTextAlign="Center">
			<text><![CDATA[(________________)]]></text>
		</element>
		<element kind="textField" uuid="a4ebb650-6170-4ba9-b5e6-7e0ccd9011b8" x="0" y="125" width="535" height="10" fontSize="8.0" hTextAlign="Center">
			<expression><![CDATA["Page " + $V{PAGE_NUMBER}]]></expression>
		</element>
	</pageFooter>
	<summary height="40">
		<element kind="line" uuid="38c65749-66ad-4168-a738-ed188d241c55" x="0" y="5" width="535" height="1" forecolor="#10B981"/>
		<element kind="staticText" uuid="6fca6966-6f3e-42b6-b5ad-4a505eb70c2a" x="75" y="15" width="250" height="20" fontSize="12.0" bold="true">
			<text><![CDATA[TOTAL:]]></text>
		</element>
		<element kind="textField" uuid="322ce171-c907-448b-899f-e39c2340990e" x="325" y="15" width="100" height="20" fontSize="12.0" pattern="#,##0" bold="true" hTextAlign="Right">
			<expression><![CDATA[$V{totalQuantity}]]></expression>
		</element>
		<element kind="textField" uuid="a3060443-fd5e-459b-a9d5-706a0b9d428b" x="425" y="15" width="105" height="20" fontSize="12.0" pattern="Rp #,##0" bold="true" hTextAlign="Right">
			<expression><![CDATA[$V{totalRevenue}]]></expression>
		</element>
	</summary>
</jasperReport>
