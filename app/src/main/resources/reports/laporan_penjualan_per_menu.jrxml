<jasperReport name="LaporanPenjualanPerMenu" language="java" pageWidth="595" pageHeight="842" columnWidth="535" leftMargin="30" rightMargin="30" topMargin="20" bottomMargin="20" uuid="36c13ca8-ce91-49e6-b904-a591285a2667">
	<query language="sql"><![CDATA[SELECT CONCAT('MNU-', LPAD(m.id_masakan, 3, '0')) as kode, m.nama_masakan, SUM(do.qty) as total_terjual, SUM(do.subtotal) as total_pendapatan FROM menu_masakan m JOIN detail_order do ON m.id_masakan = do.id_masakan JOIN `order` o ON do.id_order = o.id_order JOIN transaksi t ON o.id_order = t.id_order GROUP BY m.id_masakan, m.nama_masakan ORDER BY total_terjual DESC]]></query>
	<field name="kode" class="java.lang.String"/>
	<field name="nama_masakan" class="java.lang.String"/>
	<field name="total_terjual" class="java.lang.Long"/>
	<field name="total_pendapatan" class="java.lang.Long"/>
	<variable name="totalQuantity" calculation="Sum" class="java.lang.Long">
		<expression><![CDATA[$F{total_terjual}]]></expression>
	</variable>
	<variable name="totalRevenue" calculation="Sum" class="java.lang.Long">
		<expression><![CDATA[$F{total_pendapatan}]]></expression>
	</variable>
	<title height="150">
		<element kind="rectangle" uuid="6ef7c902-35af-4db0-9411-fba2c89ea36f" mode="Opaque" x="0" y="0" width="535" height="90" backcolor="#ECFDF5"/>
		<element kind="image" uuid="c3b80914-b683-4a36-b081-2bc68fe70680" x="10" y="15" width="60" height="60" scaleImage="RetainShape">
			<expression><![CDATA[this.getClass().getResource("/images/logo_icon.png")]]></expression>
		</element>
		<element kind="staticText" uuid="e6533f19-a158-4d8a-9879-64ab904cadc7" x="50" y="10" width="445" height="35" forecolor="#10B981" fontSize="20.0" bold="true" hTextAlign="Center">
			<text><![CDATA[DAPOER SYAFIRA]]></text>
		</element>
		<element kind="staticText" uuid="4d963165-92e0-4291-8a4a-38e99f182dea" x="50" y="40" width="445" height="45" fontSize="10.0" hTextAlign="Center">
			<text><![CDATA[Kp. Sudimampir, Jl. Teratai Rt 03/03 No. 49,
Kel. Cimanggis, Kec. Bojonggede, Kab. Bogor
Telp. 0858-8841-2088 Email. lmsas84atsyah@gmail.com]]></text>
		</element>
		<element kind="staticText" uuid="aa5b2491-a52a-469f-be53-5c562b7bb49d" x="50" y="110" width="445" height="25" fontSize="16.0" bold="true" hTextAlign="Center">
			<text><![CDATA[LAPORAN PENJUALAN PER MENU]]></text>
		</element>
		<element kind="line" uuid="0ae4af67-62c4-4e80-8573-23b984f073ec" x="0" y="145" width="535" height="1" forecolor="#10B981"/>
	</title>
	<columnHeader height="35">
		<element kind="rectangle" uuid="8a470d4a-340a-4db4-ae4a-bc26b1ceb8b7" mode="Opaque" x="0" y="0" width="535" height="30" backcolor="#10B981"/>
		<element kind="staticText" uuid="1667312e-ab9b-4fc9-a7ef-d53477a821a3" x="5" y="8" width="70" height="20" forecolor="#FFFFFF" fontSize="11.0" bold="true">
			<text><![CDATA[Kode]]></text>
		</element>
		<element kind="staticText" uuid="fc2d2e41-ee55-44a4-8084-4ea01b6c6557" x="75" y="8" width="250" height="20" forecolor="#FFFFFF" fontSize="11.0" bold="true">
			<text><![CDATA[Nama Menu]]></text>
		</element>
		<element kind="staticText" uuid="138a40f1-d9ca-4061-978f-b424201b5dae" x="325" y="8" width="100" height="20" forecolor="#FFFFFF" fontSize="11.0" bold="true" hTextAlign="Right">
			<text><![CDATA[Terjual]]></text>
		</element>
		<element kind="staticText" uuid="bc4550db-fad3-4d97-ab2b-fe229e793ad9" x="425" y="8" width="105" height="20" forecolor="#FFFFFF" fontSize="11.0" bold="true" hTextAlign="Right">
			<text><![CDATA[Total Pendapatan]]></text>
		</element>
	</columnHeader>
	<detail>
		<band height="25">
			<element kind="line" uuid="8c3165fd-5aaf-4922-ad17-4ea1beb71ab5" x="0" y="24" width="535" height="1" forecolor="#D1FAE5"/>
			<element kind="textField" uuid="5fe170d4-ac6c-4c1c-836b-6ba1eb68e271" x="5" y="2" width="70" height="20" fontSize="10.0">
				<expression><![CDATA[$F{kode}]]></expression>
			</element>
			<element kind="textField" uuid="9ed3fdc3-ba61-4474-a435-eb37b410c8a9" x="75" y="2" width="250" height="20" fontSize="10.0">
				<expression><![CDATA[$F{nama_masakan}]]></expression>
			</element>
			<element kind="textField" uuid="4942e132-e85d-41f6-8122-1be63ef85eaa" x="325" y="2" width="100" height="20" fontSize="10.0" pattern="#,##0" hTextAlign="Right">
				<expression><![CDATA[$F{total_terjual}]]></expression>
			</element>
			<element kind="textField" uuid="d52a86a2-ecfb-4c00-a21e-fde700a5a9b9" x="425" y="2" width="105" height="20" fontSize="10.0" pattern="Rp #,##0" hTextAlign="Right">
				<expression><![CDATA[$F{total_pendapatan}]]></expression>
			</element>
		</band>
	</detail>
	<pageFooter height="140">
		<element kind="line" uuid="747e83ba-660b-4e78-b358-a422c2326ea5" x="0" y="10" width="535" height="1" forecolor="#D1FAE5"/>
		<element kind="staticText" uuid="de8372ca-cf51-44e6-be2c-f07d38eb51a5" x="50" y="20" width="150" height="15" fontSize="9.0" hTextAlign="Center">
			<text><![CDATA[Jakarta, 22 Januari 2026]]></text>
		</element>
		<element kind="staticText" uuid="a066d74f-8b10-4ea4-b5e8-ef9bdc3e64a6" x="50" y="50" width="150" height="15" fontSize="10.0">
			<text><![CDATA[Mengetahui,]]></text>
		</element>
		<element kind="line" uuid="d144ef76-01c0-4666-a688-43d5e7f04295" x="50" y="105" width="150" height="1"/>
		<element kind="staticText" uuid="a40a17d7-386d-4e07-8691-ef625be77e61" x="50" y="110" width="150" height="15" fontSize="9.0" hTextAlign="Center">
			<text><![CDATA[(________________)]]></text>
		</element>
		<element kind="staticText" uuid="7dbee344-e81d-45b4-85bc-3b0eafec5c39" x="350" y="20" width="150" height="15" fontSize="9.0" hTextAlign="Center">
			<text><![CDATA[Jakarta, 22 Januari 2026]]></text>
		</element>
		<element kind="staticText" uuid="2e8906ff-d199-4ee8-ad09-a062ca313e13" x="350" y="50" width="150" height="15" fontSize="10.0">
			<text><![CDATA[Dibuat Oleh,]]></text>
		</element>
		<element kind="line" uuid="2248cdbf-d431-421d-a213-75104f058aba" x="350" y="105" width="150" height="1"/>
		<element kind="staticText" uuid="2a6327c3-c837-4e7b-88cc-ab608c0b3450" x="350" y="110" width="150" height="15" fontSize="9.0" hTextAlign="Center">
			<text><![CDATA[(________________)]]></text>
		</element>
		<element kind="textField" uuid="617e1618-965d-45fe-a31d-661fde6df365" x="0" y="125" width="535" height="10" fontSize="8.0" hTextAlign="Center">
			<expression><![CDATA["Page " + $V{PAGE_NUMBER}]]></expression>
		</element>
	</pageFooter>
	<summary height="40">
		<element kind="line" uuid="1dd2f6ea-1b78-496b-aa6d-5784b7e86af3" x="0" y="5" width="535" height="1" forecolor="#10B981"/>
		<element kind="staticText" uuid="2b8beac1-3a1c-42d3-b21f-4eab2c4fc73a" x="75" y="15" width="250" height="20" fontSize="12.0" bold="true">
			<text><![CDATA[TOTAL:]]></text>
		</element>
		<element kind="textField" uuid="b21560e4-935e-480e-a8ad-7c6bc0b63a9b" x="325" y="15" width="100" height="20" fontSize="12.0" pattern="#,##0" bold="true" hTextAlign="Right">
			<expression><![CDATA[$V{totalQuantity}]]></expression>
		</element>
		<element kind="textField" uuid="1694821a-4c02-4441-8cbb-dc8474b7205e" x="425" y="15" width="105" height="20" fontSize="12.0" pattern="Rp #,##0" bold="true" hTextAlign="Right">
			<expression><![CDATA[$V{totalRevenue}]]></expression>
		</element>
	</summary>
</jasperReport>
