<jasperReport name="StrukPembayaran" language="java" pageWidth="230" pageHeight="842" columnWidth="210" leftMargin="10" rightMargin="10" topMargin="10" bottomMargin="10" uuid="86745508-7172-482c-969a-96d236931246">
	<parameter name="ORDER_ID" class="java.lang.Integer"/>
	<parameter name="UANG_BAYAR" class="java.lang.Long"/>
	<parameter name="KEMBALIAN" class="java.lang.Long"/>
	<query language="sql"><![CDATA[SELECT o.id_order, CONCAT('ORD-', LPAD(o.id_order, 3, '0')) as kode_order, o.tgl_pesan, u.nama_user as kasir, COALESCE(p.nama, 'Walk-in') as nama_pelanggan, o.jenis_pesanan, o.catatan, m.nama_masakan, d.qty, (d.subtotal / d.qty) as harga, d.subtotal, o.total as total_akhir FROM `order` o JOIN detail_order d ON o.id_order = d.id_order JOIN menu_masakan m ON d.id_masakan = m.id_masakan JOIN user u ON o.id_user = u.id_user LEFT JOIN pelanggan p ON o.id_pelanggan = p.id_pelanggan WHERE o.id_order = $P{ORDER_ID}]]></query>
	<field name="id_order" class="java.lang.Integer"/>
	<field name="kode_order" class="java.lang.String"/>
	<field name="tgl_pesan" class="java.sql.Timestamp"/>
	<field name="kasir" class="java.lang.String"/>
	<field name="nama_pelanggan" class="java.lang.String"/>
	<field name="jenis_pesanan" class="java.lang.String"/>
	<field name="catatan" class="java.lang.String"/>
	<field name="nama_masakan" class="java.lang.String"/>
	<field name="qty" class="java.lang.Integer"/>
	<field name="harga" class="java.lang.Integer"/>
	<field name="subtotal" class="java.lang.Integer"/>
	<field name="total_akhir" class="java.lang.Integer"/>
	<title height="135">
		<element kind="staticText" uuid="de663cb7-2d09-41b3-b363-22577aef8294" x="0" y="0" width="210" height="20" fontSize="14.0" bold="true" hTextAlign="Center">
			<text><![CDATA[DAPOER SYAFIRA]]></text>
		</element>
		<element kind="staticText" uuid="b8e3cd12-104e-4b59-8ff6-035afe3de9a0" x="0" y="20" width="210" height="15" fontSize="8.0" bold="false" hTextAlign="Center">
			<text><![CDATA[Jl. Teratai No. 49, Bogor]]></text>
		</element>
		<element kind="line" uuid="f0ebbacc-d680-44e4-ac8d-7a5cc35310d4" x="0" y="40" width="210" height="1"/>
		<element kind="textField" uuid="a5d52f51-66f9-45c8-baaf-8c9239cc5622" x="0" y="45" width="210" height="15" fontSize="8.0" bold="true">
			<expression><![CDATA["No. Transaksi : " + $F{kode_order}]]></expression>
		</element>
		<element kind="textField" uuid="e04e83a3-8c27-4c95-b54b-a4e5dd3ee5e3" x="0" y="60" width="210" height="15" fontSize="8.0" bold="false">
			<expression><![CDATA["Tanggal : " + new java.text.SimpleDateFormat("dd/MM/yy HH:mm").format($F{tgl_pesan})]]></expression>
		</element>
		<element kind="textField" uuid="8f60d745-e498-403a-8c98-ffeed1b460cf" x="0" y="75" width="210" height="15" fontSize="8.0" bold="false">
			<expression><![CDATA["Kasir   : " + $F{kasir}]]></expression>
		</element>
		<element kind="textField" uuid="b6ed3f8d-62bb-4fed-b6fc-3156e1280c74" x="0" y="95" width="210" height="15" fontSize="8.0" bold="true">
			<expression><![CDATA["Pelanggan : " + $F{nama_pelanggan}]]></expression>
		</element>
		<element kind="textField" uuid="d47f4d27-2e60-459b-91ec-bb9cdca501f3" x="0" y="110" width="210" height="15" fontSize="8.0" bold="false">
			<expression><![CDATA["Tipe      : " + $F{jenis_pesanan}]]></expression>
		</element>
	</title>
	<columnHeader height="5">
		<element kind="line" uuid="dc65e4e4-4bce-4b45-b8aa-402eefd51a93" x="0" y="2" width="210" height="1"/>
	</columnHeader>
	<detail>
		<band height="30">
			<element kind="textField" uuid="ff9a099b-ffc6-4ec2-935f-85ee168f4702" x="0" y="2" width="210" height="12" fontSize="9.0" bold="true">
				<expression><![CDATA[$F{nama_masakan}]]></expression>
			</element>
			<element kind="textField" uuid="91b10d14-754d-45f7-b9d2-2eeb8c0b611d" x="10" y="14" width="100" height="12" fontSize="8.0" pattern="Rp #,##0" bold="false">
				<expression><![CDATA[$F{qty} + " x " + $F{harga}]]></expression>
			</element>
			<element kind="textField" uuid="79f35f65-0426-4e5a-85c6-506bb8794d6a" x="110" y="14" width="100" height="12" fontSize="8.0" pattern="Rp #,##0" bold="false" hTextAlign="Right">
				<expression><![CDATA[$F{subtotal}]]></expression>
			</element>
		</band>
	</detail>
	<summary height="130">
		<element kind="line" uuid="8d2b2e09-5209-420f-8e70-3f2752791d18" x="0" y="5" width="210" height="1"/>
		<element kind="staticText" uuid="9e19db3e-1c16-4530-919a-d4bda4e2e4b1" x="0" y="10" width="100" height="15" fontSize="10.0" bold="true">
			<text><![CDATA[TOTAL:]]></text>
		</element>
		<element kind="textField" uuid="5dc20829-fe3f-4934-9fc2-5734e40acc78" x="110" y="10" width="100" height="15" fontSize="10.0" pattern="Rp #,##0" bold="true" hTextAlign="Right">
			<expression><![CDATA[$F{total_akhir}]]></expression>
		</element>
		<element kind="staticText" uuid="ef0a4774-9961-47ad-8447-adba961e015f" x="0" y="25" width="100" height="15" fontSize="9.0" bold="false">
			<text><![CDATA[BAYAR:]]></text>
		</element>
		<element kind="textField" uuid="5fa91f5d-de59-4478-9e3f-97c4b76ee567" x="110" y="25" width="100" height="15" fontSize="9.0" pattern="Rp #,##0" bold="false" hTextAlign="Right">
			<expression><![CDATA[$P{UANG_BAYAR}]]></expression>
		</element>
		<element kind="staticText" uuid="5908e4db-fbc9-4538-8983-b5d066bcfda3" x="0" y="40" width="100" height="15" fontSize="9.0" bold="false">
			<text><![CDATA[KEMBALI:]]></text>
		</element>
		<element kind="textField" uuid="6238c465-0e24-4aed-b7ef-0f5a202e7323" x="110" y="40" width="100" height="15" fontSize="9.0" pattern="Rp #,##0" bold="false" hTextAlign="Right">
			<expression><![CDATA[$P{KEMBALIAN}]]></expression>
		</element>
		<element kind="textField" uuid="ce8422d6-4cc4-4036-b389-c4094bc2cd29" x="0" y="65" width="210" height="25" fontSize="8.0" bold="false">
			<expression><![CDATA["Catatan: " + ($F{catatan} == null ? "-" : $F{catatan})]]></expression>
		</element>
		<element kind="line" uuid="1960a7cb-8714-4200-aaad-c46edbb87397" x="30" y="95" width="150" height="1"/>
		<element kind="staticText" uuid="d6d9dd21-3100-4102-9a09-322fffdb661d" x="0" y="100" width="210" height="15" fontSize="8.0" bold="true" hTextAlign="Center">
			<text><![CDATA[Terima kasih sudah memesan!]]></text>
		</element>
		<element kind="staticText" uuid="52ddc76b-2d14-4a33-9168-9b784088d7cf" x="0" y="115" width="210" height="15" fontSize="7.0" bold="false" hTextAlign="Center">
			<text><![CDATA[Instagram: @dapoersyafira]]></text>
		</element>
	</summary>
</jasperReport>
