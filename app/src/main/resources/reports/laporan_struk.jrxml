<jasperReport name="StrukPembayaran" language="java" pageWidth="230" pageHeight="842" columnWidth="210" leftMargin="10" rightMargin="10" topMargin="10" bottomMargin="10" uuid="ee2639e2-6881-49b0-84fd-7a057c69dae9">
	<parameter name="ORDER_ID" class="java.lang.Integer"/>
	<parameter name="UANG_BAYAR" class="java.lang.Long"/>
	<parameter name="KEMBALIAN" class="java.lang.Long"/>
	<query language="sql"><![CDATA[SELECT o.id_order, CONCAT('ORD-', LPAD(o.id_order, 3, '0')) as kode_order, o.tgl_pesan, u.nama_user as kasir, COALESCE(p.nama, 'Walk-in') as nama_pelanggan, o.jenis_pesanan, o.catatan, m.nama_masakan, d.qty, (d.subtotal / d.qty) as harga, d.subtotal, o.total as total_akhir FROM `order` o JOIN detail_order d ON o.id_order = d.id_order JOIN menu_masakan m ON d.id_masakan = m.id_masakan JOIN user u ON o.id_user = u.id_user LEFT JOIN pelanggan p ON o.id_pelanggan = p.id_pelanggan WHERE o.id_order = $P{ORDER_ID}]]></query>
	<field name="id_order" class="java.lang.Integer"/>
	<field name="kode_order" class="java.lang.String"/>
	<field name="tgl_pesan" class="java.sql.Timestamp"/>
	<field name="kasir" class="java.lang.String"/>
	<field name="nama_pelanggan" class="java.lang.String"/>
	<field name="jenis_pesanan" class="java.lang.String"/>
	<field name="catatan" class="java.lang.String"/>
	<field name="nama_masakan" class="java.lang.String"/>
	<field name="qty" class="java.lang.Integer"/>
	<field name="harga" class="java.lang.Integer"/>
	<field name="subtotal" class="java.lang.Integer"/>
	<field name="total_akhir" class="java.lang.Integer"/>
	<title height="135">
		<element kind="staticText" uuid="4443d52e-4b25-4302-b74b-2380aa1c7e99" x="0" y="0" width="210" height="20" fontSize="14.0" bold="true" hTextAlign="Center">
			<text><![CDATA[DAPOER SYAFIRA]]></text>
		</element>
		<element kind="staticText" uuid="70c4a0b7-a04f-4a2c-a74d-de8bd9ea8bf8" x="0" y="20" width="210" height="15" fontSize="8.0" bold="false" hTextAlign="Center">
			<text><![CDATA[Jl. Teratai No. 49, Bogor]]></text>
		</element>
		<element kind="line" uuid="543b977b-8bfc-4094-9e84-c2383293d9ef" x="0" y="40" width="210" height="1"/>
		<element kind="textField" uuid="a5913b22-ee8e-459c-8c86-a2aeb92e12b6" x="0" y="45" width="210" height="15" fontSize="8.0" bold="true">
			<expression><![CDATA["No. Transaksi : " + $F{kode_order}]]></expression>
		</element>
		<element kind="textField" uuid="f3c844bb-987f-4c1d-9cc0-423a93e053cc" x="0" y="60" width="210" height="15" fontSize="8.0" bold="false">
			<expression><![CDATA["Tanggal : " + new java.text.SimpleDateFormat("dd/MM/yy HH:mm").format($F{tgl_pesan})]]></expression>
		</element>
		<element kind="textField" uuid="4bcfec30-3d77-4137-8e95-46b77b022ed4" x="0" y="75" width="210" height="15" fontSize="8.0" bold="false">
			<expression><![CDATA["Kasir   : " + $F{kasir}]]></expression>
		</element>
		<element kind="textField" uuid="5edc22ac-156f-4b34-b6e8-6adb1605994e" x="0" y="95" width="210" height="15" fontSize="8.0" bold="true">
			<expression><![CDATA["Pelanggan : " + $F{nama_pelanggan}]]></expression>
		</element>
		<element kind="textField" uuid="66c2e485-74b3-40fe-bc86-98ae01d60c12" x="0" y="110" width="210" height="15" fontSize="8.0" bold="false">
			<expression><![CDATA["Tipe      : " + $F{jenis_pesanan}]]></expression>
		</element>
	</title>
	<columnHeader height="5">
		<element kind="line" uuid="9d94b757-fcff-4ffd-a1df-dabb35fa25ca" x="0" y="2" width="210" height="1"/>
	</columnHeader>
	<detail>
		<band height="30">
			<element kind="textField" uuid="bc6400f4-4f32-4dbf-9b44-2a54a6e31cf2" x="0" y="2" width="210" height="12" fontSize="9.0" bold="true">
				<expression><![CDATA[$F{nama_masakan}]]></expression>
			</element>
			<element kind="textField" uuid="4f50cb52-d97c-44d2-b096-d2528493be07" x="10" y="14" width="100" height="12" fontSize="8.0" pattern="Rp #,##0" bold="false">
				<expression><![CDATA[$F{qty} + " x " + $F{harga}]]></expression>
			</element>
			<element kind="textField" uuid="c99fbe02-620e-43cc-a7d8-a5e931a82e33" x="110" y="14" width="100" height="12" fontSize="8.0" pattern="Rp #,##0" bold="false" hTextAlign="Right">
				<expression><![CDATA[$F{subtotal}]]></expression>
			</element>
		</band>
	</detail>
	<summary height="130">
		<element kind="line" uuid="84f5677c-876d-48a1-87b5-31e14406ddba" x="0" y="5" width="210" height="1"/>
		<element kind="staticText" uuid="06d1edb2-cbae-481c-974f-6489cd712ea1" x="0" y="10" width="100" height="15" fontSize="10.0" bold="true">
			<text><![CDATA[TOTAL:]]></text>
		</element>
		<element kind="textField" uuid="f98a9d08-8241-47d3-a5b5-4f3e33b69261" x="110" y="10" width="100" height="15" fontSize="10.0" pattern="Rp #,##0" bold="true" hTextAlign="Right">
			<expression><![CDATA[$F{total_akhir}]]></expression>
		</element>
		<element kind="staticText" uuid="0c7e893b-4a18-4a93-9a3c-280e14dfb780" x="0" y="25" width="100" height="15" fontSize="9.0" bold="false">
			<text><![CDATA[BAYAR:]]></text>
		</element>
		<element kind="textField" uuid="f054b313-9b83-4ffd-b68f-f09e18140967" x="110" y="25" width="100" height="15" fontSize="9.0" pattern="Rp #,##0" bold="false" hTextAlign="Right">
			<expression><![CDATA[$P{UANG_BAYAR}]]></expression>
		</element>
		<element kind="staticText" uuid="6537344c-41cd-4f91-bd9a-d30e3b890ec8" x="0" y="40" width="100" height="15" fontSize="9.0" bold="false">
			<text><![CDATA[KEMBALI:]]></text>
		</element>
		<element kind="textField" uuid="f38b7bb0-f9d5-424e-b1bc-ecf9b18c1a07" x="110" y="40" width="100" height="15" fontSize="9.0" pattern="Rp #,##0" bold="false" hTextAlign="Right">
			<expression><![CDATA[$P{KEMBALIAN}]]></expression>
		</element>
		<element kind="textField" uuid="db0f19fb-0f07-478a-bae7-07d8309a087a" x="0" y="65" width="210" height="25" fontSize="8.0" bold="false">
			<expression><![CDATA["Catatan: " + ($F{catatan} == null ? "-" : $F{catatan})]]></expression>
		</element>
		<element kind="line" uuid="762355fa-d735-46d4-921a-e650515fd7b7" x="30" y="95" width="150" height="1"/>
		<element kind="staticText" uuid="7fb25fe7-6f0b-4913-be52-0d6c8a99fc9e" x="0" y="100" width="210" height="15" fontSize="8.0" bold="true" hTextAlign="Center">
			<text><![CDATA[Terima kasih sudah memesan!]]></text>
		</element>
		<element kind="staticText" uuid="61ceb57c-4773-4a50-bc4f-b08be36fcf72" x="0" y="115" width="210" height="15" fontSize="7.0" bold="false" hTextAlign="Center">
			<text><![CDATA[Instagram: @dapoersyafira]]></text>
		</element>
	</summary>
</jasperReport>
