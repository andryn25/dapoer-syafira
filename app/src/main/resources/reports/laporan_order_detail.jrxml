<jasperReport name="LaporanOrderDetail" language="java" pageWidth="595" pageHeight="842" columnWidth="535" leftMargin="30" rightMargin="30" topMargin="20" bottomMargin="20" uuid="8f4b1e42-64fa-4a84-941e-cd0153baffe1">
	<query language="sql"><![CDATA[SELECT o.id_order, CONCAT('ORD-', LPAD(o.id_order, 3, '0')) as kode_order, o.tgl_pesan, COALESCE(p.nama, 'Walk-in') as nama_pelanggan, o.jenis_pesanan, o.total as total_order, m.nama_masakan, d.qty, (d.subtotal / d.qty) as harga_satuan, d.subtotal FROM `order` o LEFT JOIN pelanggan p ON o.id_pelanggan = p.id_pelanggan JOIN detail_order d ON o.id_order = d.id_order JOIN menu_masakan m ON d.id_masakan = m.id_masakan ORDER BY o.id_order DESC, d.id_detail]]></query>
	<field name="id_order" class="java.lang.Integer"/>
	<field name="kode_order" class="java.lang.String"/>
	<field name="tgl_pesan" class="java.sql.Timestamp"/>
	<field name="nama_pelanggan" class="java.lang.String"/>
	<field name="jenis_pesanan" class="java.lang.String"/>
	<field name="total_order" class="java.lang.Integer"/>
	<field name="nama_masakan" class="java.lang.String"/>
	<field name="qty" class="java.lang.Integer"/>
	<field name="harga_satuan" class="java.lang.Integer"/>
	<field name="subtotal" class="java.lang.Integer"/>
	<group name="OrderGroup" minHeightToStartNewPage="100">
		<expression><![CDATA[$F{id_order}]]></expression>
		<groupHeader>
			<band height="80">
				<element kind="rectangle" uuid="27c73a09-a392-4849-8c4a-4e244d0d5aae" mode="Opaque" x="0" y="0" width="535" height="75" backcolor="#F3F4F6"/>
				<element kind="staticText" uuid="99e6fddb-bc63-4cb5-be35-b12581775472" x="10" y="5" width="80" height="15" fontSize="11.0" bold="true">
					<text><![CDATA[Kode Order:]]></text>
				</element>
				<element kind="textField" uuid="4b213e17-298f-4f00-b526-e413272b0a63" x="95" y="5" width="100" height="15" fontSize="12.0" bold="true">
					<expression><![CDATA[$F{kode_order}]]></expression>
				</element>
				<element kind="staticText" uuid="68c28d41-7fa2-4b65-a747-84804eeffb4f" x="10" y="23" width="80" height="15" fontSize="10.0" bold="false">
					<text><![CDATA[Tanggal:]]></text>
				</element>
				<element kind="textField" uuid="ab9ab8dd-53b1-4d9a-95d5-8d9066886e58" x="95" y="23" width="150" height="15" fontSize="10.0" pattern="dd MMMM yyyy HH:mm" bold="false">
					<expression><![CDATA[$F{tgl_pesan}]]></expression>
				</element>
				<element kind="staticText" uuid="9b8ea05c-40bf-4b46-928b-663c00a49484" x="10" y="41" width="80" height="15" fontSize="10.0" bold="false">
					<text><![CDATA[Pelanggan:]]></text>
				</element>
				<element kind="textField" uuid="50efb77d-de76-4eb3-ae32-08d62a8e189a" x="95" y="41" width="150" height="15" fontSize="10.0" bold="false">
					<expression><![CDATA[$F{nama_pelanggan}]]></expression>
				</element>
				<element kind="staticText" uuid="428df855-f129-4ece-8dd3-e76158e62951" x="10" y="59" width="80" height="15" fontSize="10.0" bold="false">
					<text><![CDATA[Jenis:]]></text>
				</element>
				<element kind="textField" uuid="10340144-06e7-42e4-8eac-4934cab1bda5" x="95" y="59" width="100" height="15" fontSize="10.0" bold="false">
					<expression><![CDATA[$F{jenis_pesanan}]]></expression>
				</element>
				<element kind="line" uuid="c2495c28-09cb-45ed-bd48-f00dba25375c" x="0" y="78" width="535" height="1" forecolor="#10B981"/>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="35">
				<element kind="line" uuid="709a1a44-0cc1-4f87-8e02-5ee3de6f5f06" x="0" y="5" width="535" height="1" forecolor="#10B981"/>
				<element kind="staticText" uuid="8aaaa61f-548e-4166-899e-abfa6accee60" x="320" y="10" width="100" height="18" fontSize="12.0" bold="true">
					<text><![CDATA[TOTAL ORDER:]]></text>
				</element>
				<element kind="textField" uuid="dd77fa8d-0147-499a-831a-943f6f23514d" x="420" y="10" width="110" height="18" fontSize="12.0" pattern="Rp #,##0" bold="true" hTextAlign="Right">
					<expression><![CDATA[$F{total_order}]]></expression>
				</element>
			</band>
		</groupFooter>
	</group>
	<title height="150">
		<element kind="rectangle" uuid="5666e72d-1437-477b-80c0-4cb9896b375c" mode="Opaque" x="0" y="0" width="535" height="90" backcolor="#ECFDF5"/>
		<element kind="image" uuid="e92ced94-0b69-4f3a-9bbb-11b8c3f48783" x="10" y="15" width="60" height="60" scaleImage="RetainShape">
			<expression><![CDATA[this.getClass().getResource("/images/logo_icon.png")]]></expression>
		</element>
		<element kind="staticText" uuid="e4496c2f-1c07-410b-9c2e-afd972f55c5b" x="50" y="10" width="445" height="35" forecolor="#10B981" fontSize="20.0" bold="true" hTextAlign="Center">
			<text><![CDATA[DAPOER SYAFIRA]]></text>
		</element>
		<element kind="staticText" uuid="f6386ce5-b729-46b3-94b6-738d93de0cfb" x="50" y="40" width="445" height="45" fontSize="10.0" hTextAlign="Center">
			<text><![CDATA[Kp. Sudimampir, Jl. Teratai Rt 03/03 No. 49,
Kel. Cimanggis, Kec. Bojonggede, Kab. Bogor
Telp. 0858-8841-2088 Email. lmsas84atsyah@gmail.com]]></text>
		</element>
		<element kind="staticText" uuid="f1f61942-8ed7-45ea-a14d-5daeed8e0cef" x="50" y="110" width="445" height="25" fontSize="16.0" bold="true" hTextAlign="Center">
			<text><![CDATA[LAPORAN DETAIL PESANAN]]></text>
		</element>
		<element kind="line" uuid="0a79ec69-be68-4e51-969a-07e1b4f48d5e" x="0" y="145" width="535" height="1" forecolor="#10B981"/>
	</title>
	<columnHeader height="25">
		<element kind="rectangle" uuid="43903503-c943-4540-8fb2-4adc351c7b18" mode="Opaque" x="0" y="0" width="535" height="20" backcolor="#10B981"/>
		<element kind="staticText" uuid="3dda884c-b813-45ee-8769-356263fd877b" x="10" y="3" width="250" height="15" forecolor="#FFFFFF" fontSize="11.0" bold="true">
			<text><![CDATA[Menu]]></text>
		</element>
		<element kind="staticText" uuid="4d06b8df-f23f-4fcf-ac07-369d4e290dc6" x="260" y="3" width="60" height="15" forecolor="#FFFFFF" fontSize="11.0" bold="true" hTextAlign="Center">
			<text><![CDATA[Qty]]></text>
		</element>
		<element kind="staticText" uuid="c6087d32-7881-4a40-99cc-35c30250824e" x="320" y="3" width="100" height="15" forecolor="#FFFFFF" fontSize="11.0" bold="true" hTextAlign="Right">
			<text><![CDATA[Harga]]></text>
		</element>
		<element kind="staticText" uuid="38c7567d-3e16-4ddf-899a-9a9efe10ef26" x="420" y="3" width="110" height="15" forecolor="#FFFFFF" fontSize="11.0" bold="true" hTextAlign="Right">
			<text><![CDATA[Subtotal]]></text>
		</element>
	</columnHeader>
	<detail>
		<band height="22">
			<element kind="line" uuid="842b6d61-3f0e-4303-aa61-c3e1f294636f" x="0" y="21" width="535" height="1" forecolor="#D1FAE5"/>
			<element kind="textField" uuid="49f3329b-b95f-43c4-9921-fdb9946c70ee" x="10" y="2" width="250" height="18" fontSize="10.0" bold="false">
				<expression><![CDATA[$F{nama_masakan}]]></expression>
			</element>
			<element kind="textField" uuid="e8fad030-9fa6-4458-ac5b-bbf36ab60696" x="260" y="2" width="60" height="18" fontSize="10.0" pattern="#,##0" bold="false" hTextAlign="Center">
				<expression><![CDATA[$F{qty}]]></expression>
			</element>
			<element kind="textField" uuid="8e6f544e-8c63-4fdb-ab33-ab10fae54516" x="320" y="2" width="100" height="18" fontSize="10.0" pattern="Rp #,##0" bold="false" hTextAlign="Right">
				<expression><![CDATA[$F{harga_satuan}]]></expression>
			</element>
			<element kind="textField" uuid="4faabaa1-e64e-4572-806c-491c48a2c442" x="420" y="2" width="110" height="18" fontSize="10.0" pattern="Rp #,##0" bold="false" hTextAlign="Right">
				<expression><![CDATA[$F{subtotal}]]></expression>
			</element>
		</band>
	</detail>
	<pageFooter height="140">
		<element kind="line" uuid="8e6f9706-3263-45fd-be25-cbcc58717e71" x="0" y="10" width="535" height="1" forecolor="#D1FAE5"/>
		<element kind="staticText" uuid="4f628d6b-7d8a-468f-b316-f1a73998696d" x="50" y="50" width="150" height="15" fontSize="10.0">
			<text><![CDATA[Mengetahui,]]></text>
		</element>
		<element kind="line" uuid="2d23fc89-36f4-4ee5-ae5f-c61efa6179e4" x="50" y="105" width="150" height="1"/>
		<element kind="staticText" uuid="9e5b102d-e8c8-487d-a135-60838a6dd5dc" x="50" y="110" width="150" height="15" fontSize="9.0" hTextAlign="Center">
			<text><![CDATA[(________________)]]></text>
		</element>
		<element kind="staticText" uuid="ef29d102-85de-48af-be8d-8d1179b41058" x="350" y="20" width="150" height="15" fontSize="9.0" hTextAlign="Center">
			<text><![CDATA[Jakarta, Kamis, 22 Januari 2026]]></text>
		</element>
		<element kind="staticText" uuid="69d70dff-152b-4dd1-8224-0349d361549b" x="350" y="50" width="150" height="15" fontSize="10.0">
			<text><![CDATA[Dibuat Oleh,]]></text>
		</element>
		<element kind="line" uuid="2605733c-2e7e-4498-a1b1-ab58fb0b502a" x="350" y="105" width="150" height="1"/>
		<element kind="staticText" uuid="da5d3010-0f2e-43dd-9528-cef5337df217" x="350" y="110" width="150" height="15" fontSize="9.0" hTextAlign="Center">
			<text><![CDATA[(________________)]]></text>
		</element>
		<element kind="textField" uuid="e010e301-26c3-465b-90ab-a07b426a992b" x="0" y="125" width="535" height="10" fontSize="8.0" hTextAlign="Center">
			<expression><![CDATA["Page " + $V{PAGE_NUMBER}]]></expression>
		</element>
	</pageFooter>
</jasperReport>
